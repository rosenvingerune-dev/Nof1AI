# ğŸš§ Hyperliquid Testnet Faucet Problem & Solutions

## âŒ The Problem: "User does not exist on mainnet"

Hyperliquid testnet faucet has an anti-spam rule:

**You can ONLY get testnet tokens if your wallet address has been active on Hyperliquid MAINNET first.**

This means:
- New wallets (generated by our setup script) do NOT work
- You must have a wallet that has done at least one transaction on Hyperliquid mainnet

---

## âœ… Solutions (3 options)

### ğŸ¯ Option 1: Use existing wallet (Recommended if you have one)

**If you already have a MetaMask/Rabby wallet that you have used on Hyperliquid:**

#### Step 1: Get private key from MetaMask
```
1. Open MetaMask
2. Click on account menu (3 dots)
3. Account details â†’ Show private key
4. Enter password
5. Copy private key
```

#### Step 2: Add to .env
```env
HYPERLIQUID_NETWORK=testnet
HYPERLIQUID_PRIVATE_KEY=0x...  # <-- Your existing wallet
```

#### Step 3: Get testnet tokens
```
1. Go to https://app.hyperliquid-testnet.xyz
2. Connect wallet (same as in .env)
3. Claim faucet
4. Get 10,000 USDC testnet tokens
```

**Advantages:**
- âœ… Works immediately
- âœ… No extra steps

**Disadvantages:**
- âš ï¸ Uses your main wallet (but on testnet, so safe)
- âš ï¸ Must have used Hyperliquid before

---

### ğŸ¯ Option 2: Activate new wallet on mainnet (Costs ~$5-10)

**If you want a dedicated bot wallet:**

#### Step 1: Send some USDC to new wallet
```
1. Buy/get USDC on Arbitrum
2. Send $5-10 to bot-wallet: 0x523FD94f8f1571C75c916Cf2Fc936B8E371a946a
3. Go to https://app.hyperliquid.xyz (MAINNET)
4. Connect wallet
5. Do one small trade (e.g., buy $1 value BTC)
6. Now wallet is "activated"
```

#### Step 2: Use testnet faucet
```
1. Go to https://app.hyperliquid-testnet.xyz
2. Connect same wallet
3. Claim faucet
4. Get 10,000 USDC testnet tokens
```

**Advantages:**
- âœ… Dedicated wallet only for bot
- âœ… Ready for both testnet and mainnet

**Disadvantages:**
- âŒ Costs real money (~$5-10)
- âŒ Must wait for transactions

---

### ğŸ¯ Option 3: Use other testnet exchange (0 cost, but different platform)

**If you don't want to use real money or main wallet:**

There are other exchanges with paper trading:

#### A) Binance Testnet (Free, easy)
- https://testnet.binance.vision/
- Get free testnet BTC/ETH/USDT
- CCXT library supports Binance testnet
- Requires modifying bot (switch from Hyperliquid to Binance)

#### B) Bybit Testnet (Free)
- https://testnet.bybit.com/
- Get 1 BTC testnet automatically
- Perpetual futures trading
- Requires modifying bot

#### C) Paper Trading API (Fully simulated)
Create a mock API that simulates Hyperliquid without real exchange:
```python
# paper_trading_api.py
class PaperTradingAPI:
    def __init__(self, starting_balance=10000):
        self.balance = starting_balance
        self.positions = {}
        # Fetch real-time prices from CoinGecko/Binance
        # Simulate trades locally
```

**Advantages:**
- âœ… 100% free
- âœ… Full control
- âœ… Can test extreme scenarios

**Disadvantages:**
- âŒ Requires code changes
- âŒ Not "real" exchange API
- âŒ Must build own simulation

---

## ğŸ¯ My Recommendation

### If you have MetaMask and have used Hyperliquid before:
â†’ **Option 1** (use existing wallet)

### If you have never used Hyperliquid:
â†’ **Option 2** (activate wallet on mainnet with $5)

### If you want to test 100% free:
â†’ **Option 3** (switch to Binance testnet or make paper trading)

---

## ğŸ“ Step-by-Step: Option 1 (Use existing wallet)

### 1. Get private key from MetaMask

**Windows/Mac:**
1. Open MetaMask extension
2. Click on account icon (top right)
3. Select "Account details"
4. Click "Show private key"
5. Enter MetaMask password
6. Click "Confirm"
7. **COPY private key** (64 hex chars)

### 2. Update .env

```env
# Replace this line:
# HYPERLIQUID_PRIVATE_KEY=0x...  # From setup script

# With your MetaMask private key:
HYPERLIQUID_PRIVATE_KEY=0x1a2b3c4d5e6f...  # <-- From MetaMask
```

### 3. Test connection

```bash
python scripts/check_testnet_balance.py
```

**Expected (first time):**
```
âœ“ Wallet address: 0xYourMetaMaskAddress
âŒ No testnet funds found!
   Balance: $0.00 USDC
```

### 4. Claim testnet tokens (via web UI)

**Do not use Discord faucet - use web UI:**

1. Go to: https://app.hyperliquid-testnet.xyz
2. Click "Connect Wallet"
3. Select MetaMask
4. Approve connection
5. Click on wallet address (top right)
6. Click "Faucet" or "Get Testnet Tokens"
7. Click "Claim"
8. Wait 10 seconds

### 5. Verify that you received tokens

```bash
python scripts/check_testnet_balance.py
```

**Expected:**
```
âœ… Testnet wallet is funded!
   Balance: $10,000.00 USDC
```

### 6. Run tests

```bash
python tests/test_all.py
```

### 7. Start bot

```bash
python main.py
```

---

## ğŸ“ Step-by-Step: Option 2 (Activate new wallet)

### 1. Buy USDC on Arbitrum

**If you don't have USDC:**

#### Via CEX (Centralized Exchange):
1. Buy USDC on Binance/Coinbase
2. Withdraw to Arbitrum network
3. Send to bot-wallet: `0x523FD94f8f1571C75c916Cf2Fc936B8E371a946a`

#### Via DEX (Decentralized Exchange):
1. Bridge ETH to Arbitrum via https://bridge.arbitrum.io/
2. Swap ETH â†’ USDC on Uniswap (Arbitrum)
3. Send to bot-wallet

### 2. Activate wallet on Hyperliquid mainnet

```
1. Go to: https://app.hyperliquid.xyz (MAINNET!)
2. Connect wallet (0x523...)
3. Deposit $5-10 USDC
4. Do one small trade:
   - Asset: BTC
   - Size: $1 value
   - Side: Long or Short (irrelevant)
5. Close position immediately
6. Now wallet is "activated" in Hyperliquid system
```

### 3. Use testnet faucet

```
1. Go to: https://app.hyperliquid-testnet.xyz
2. Connect wallet (same 0x523...)
3. Claim faucet
4. Get 10,000 USDC testnet tokens
```

### 4. Verify

```bash
python scripts/check_testnet_balance.py
```

---

## ğŸ”§ Updated Setup Script

I have created a new script that checks if wallet is activated:

```bash
python scripts/check_wallet_activation.py
```

This script will:
- âœ… Check if wallet exists on mainnet
- âœ… Tell you if you can use testnet faucet
- âœ… Give you the options above if not activated

---

## âš ï¸ Important Security

### If using existing wallet (Option 1):

**Cautions:**
- âš ï¸ Same private key is used on both testnet and mainnet
- âš ï¸ Ensure `HYPERLIQUID_NETWORK=testnet` in .env
- âš ï¸ NEVER switch to mainnet without being 100% sure

**Security tips:**
```env
# DOUBLE CHECK that this is in .env:
HYPERLIQUID_NETWORK=testnet  # TESTNET!!!

# DO NOT change to mainnet unless you KNOW what you are doing:
# HYPERLIQUID_NETWORK=mainnet  # âŒ DANGEROUS if experimenting
```

### Best practice:

**Create two .env files:**
```bash
# .env.testnet (for testing)
HYPERLIQUID_NETWORK=testnet
HYPERLIQUID_PRIVATE_KEY=0x...  # Can be main wallet

# .env.mainnet (for live trading - LATER!)
HYPERLIQUID_NETWORK=mainnet
HYPERLIQUID_PRIVATE_KEY=0x...  # DIFFERENT wallet, only for trading
```

**Use correct .env:**
```bash
# Testing:
copy .env.testnet .env
python main.py

# Live (much later, when ready):
copy .env.mainnet .env
python main.py
```

---

## ğŸ’¡ What I Recommend FOR YOU

Based on your goal to learn and test:

### ğŸ¯ My recommendation: Option 1 (if you have MetaMask)

**Advantages for you:**
1. âœ… Fastest to get started (5 minutes)
2. âœ… Free
3. âœ… Can start testing immediately
4. âœ… Only testnet - no risk of real money

**Process:**
```bash
# 1. Get private key from MetaMask
# 2. Add to .env
# 3. Go to https://app.hyperliquid-testnet.xyz
# 4. Connect wallet and claim faucet
# 5. Run: python scripts/check_testnet_balance.py
# 6. Run: python tests/test_all.py
# 7. Start: python main.py
```

### ğŸ¯ If you DO NOT have MetaMask or never used Hyperliquid:

**Then I recommend Option 3: Create paper trading API**

I can help you build a simple simulated exchange:
- Fetches real-time prices from CoinGecko
- Simulates trades locally
- No real exchange needed
- 100% free
- Full control

**Do you want me to create paper trading API for you?**

---

## ğŸ†˜ What do you want to do?

Tell me:
1. **Do you have MetaMask or another wallet you used before?**
   - Yes â†’ Option 1
   - No â†’ Go to #2

2. **Are you willing to spend $5-10 to activate wallet?**
   - Yes â†’ Option 2
   - No â†’ Go to #3

3. **Do you want to test without real exchange?**
   - Yes â†’ I create paper trading API
   - No â†’ Consider Binance testnet

**What fits you best?** ğŸ¤”
